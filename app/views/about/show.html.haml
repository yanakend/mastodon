- content_for :page_title do
  = site_hostname

- content_for :header_tags do
  %script#initial-state{ type: 'application/json' }!= json_escape(@initial_state_json)
  = javascript_pack_tag 'about', integrity: true, crossorigin: 'anonymous'

  %meta{ property: 'og:site_name', content: site_title }/
  %meta{ property: 'og:url', content: about_url }/
  %meta{ property: 'og:type', content: 'website' }/
  %meta{ property: 'og:title', content: site_hostname }/
  %meta{ property: 'og:description', content: strip_tags(@instance_presenter.site_description.presence || t('about.about_mastodon_html')) }/
  %meta{ property: 'og:image', content: asset_pack_path('mastodon_small.jpg', protocol: :request) }/
  %meta{ property: 'og:image:width', content: '400' }/
  %meta{ property: 'og:image:height', content: '400' }/
  %meta{ property: 'twitter:card', content: 'summary' }/

.landing-page
  .header-wrapper
    .header
      .container.links
        .brand
          = link_to root_url do
            = image_tag asset_pack_path('logo_full.svg'), alt: 'Mastodon'

        %ul.nav
          %li
            - if user_signed_in?
              = link_to t('settings.back'), root_url, class: 'webapp-btn'
            - else
              = link_to t('auth.login'), new_user_session_path, class: 'webapp-btn'
          %li= link_to t('about.about_this'), about_more_path

      .container.hero
        .heading
          %h1
            Hearthtodon
            %small= t('about.hosted_on')
        - if @instance_presenter.open_registrations
          = render 'registration'
        - else
          .closed-registrations-message
            %div
              - if @instance_presenter.closed_registrations_message.blank?
                %p= t('about.closed_registrations')
              - else
                = @instance_presenter.closed_registrations_message.html_safe
            = link_to t('about.find_another_instance'), 'https://joinmastodon.org/', class: 'button button-alternative button--block'

  .features
    .container
      - if Setting.timeline_preview
        #mastodon-timeline{ data: { props: Oj.dump(default_props) } }

      .about-mastodon
        = render 'features'
  .footer-links
    .container
      %p
